<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <?!= include('Styles'); ?>
  </head>
  <body>
    <div class="sidebar-container">
      <div class="header">
        <h2 id="context-label"><?= contextLabel ?></h2>
        <button class="btn btn-icon" onclick="refreshContext()" title="Refresh">â†»</button>
      </div>

      <!-- No Context State -->
      <div id="no-context" class="section" style="display: <?= context ? 'none' : 'block' ?>;">
        <p class="info-text">
          Select a sheet tab (Borrowers, Media, or Loans) to see available actions.
        </p>
      </div>

      <!-- Borrowers Actions -->
      <div id="borrowers-actions" class="section" style="display: <?= context === 'Borrowers' ? 'block' : 'none' ?>;">
        <div class="action-group">
          <h3>Borrower Actions</h3>
          <button class="btn btn-primary" onclick="addBorrower()">+ Add Borrower</button>
          <button class="btn btn-secondary" onclick="editSelectedBorrower()">Edit Selected</button>
          <button class="btn btn-secondary" onclick="searchBorrowers()">Search</button>
        </div>
        <div class="action-group">
          <h3>Quick Actions</h3>
          <button class="btn btn-secondary" onclick="viewBorrowerLoans()">View Loans</button>
          <button class="btn btn-danger" onclick="suspendBorrower()">Suspend Borrower</button>
        </div>
      </div>

      <!-- Media Actions -->
      <div id="media-actions" class="section" style="display: <?= context === 'Media' ? 'block' : 'none' ?>;">
        <div class="action-group">
          <h3>Media Actions</h3>
          <button class="btn btn-primary" onclick="addMedia()">+ Add Media</button>
          <button class="btn btn-secondary" onclick="editSelectedMedia()">Edit Selected</button>
          <button class="btn btn-secondary" onclick="searchMedia()">Search</button>
        </div>
        <div class="action-group">
          <h3>Quick Actions</h3>
          <button class="btn btn-secondary" onclick="checkAvailability()">Check Availability</button>
          <button class="btn btn-danger" onclick="markAsLost()">Mark as Lost</button>
        </div>
      </div>

      <!-- Loans Actions -->
      <div id="loans-actions" class="section" style="display: <?= context === 'Loans' ? 'block' : 'none' ?>;">
        <div class="action-group">
          <h3>Loan Actions</h3>
          <button class="btn btn-primary" onclick="newCheckout()">+ New Checkout</button>
          <button class="btn btn-success" onclick="processReturn()">Process Return</button>
          <button class="btn btn-secondary" onclick="extendLoan()">Extend Due Date</button>
        </div>
        <div class="action-group">
          <h3>Reports</h3>
          <button class="btn btn-secondary" onclick="showOverdue()">View Overdue</button>
          <button class="btn btn-secondary" onclick="showActiveLoans()">Active Loans</button>
        </div>
      </div>

      <!-- Status Area -->
      <div id="status-area" class="status-area"></div>
    </div>

    <?!= include('SidebarJS'); ?>
  </body>
</html>
